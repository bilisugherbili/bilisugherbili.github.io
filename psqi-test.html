<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>匹兹堡睡眠质量指数 (PSQI) - 金织网</title>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/fontawesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/solid.min.css">
    <style>
        /* 复用全局变量与基础样式（与 SES 测试页一致） */
        :root {
            --primary-color: #D4AF37; 
            --primary-dark: #B8860B; 
            --primary-light: #F9F2D6; 
            --text-dark: #2D2926; 
            --text-gray: #5C554E; 
            --bg-light: #FFFAF0; 
            --bg-white: #FFFFFF; 
            --border-gray: #E8E0D0; 
            --shadow-sm: 0 2px 8px rgba(212, 175, 55, 0.15); 
            --radius-md: 8px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Inter", "PingFang SC", "Microsoft YaHei", sans-serif;
        }

        body {
            background-color: var(--bg-light);
            color: var(--text-dark);
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* 导航样式（复用） */
        header {
            background-color: var(--bg-white);
            box-shadow: var(--shadow-sm);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 70px;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-color);
        }

        .nav-links ul {
            list-style: none;
            display: flex;
            gap: 30px;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--text-gray);
            font-weight: 500;
            transition: var(--transition);
        }

        .nav-links a:hover {
            color: var(--primary-color);
        }

        .mobile-menu {
            display: none;
            font-size: 24px;
            color: var(--primary-color);
            cursor: pointer;
            border: none;
            background: transparent;
        }

        /* 测试页专属样式 */
        .test-header {
            padding: 40px 0;
            text-align: center;
            margin-bottom: 30px;
        }

        .test-header h1 {
            font-size: 32px;
            color: var(--primary-dark);
            margin-bottom: 15px;
        }

        .test-header p {
            font-size: 16px;
            color: var(--text-gray);
            max-width: 700px;
            margin: 0 auto;
        }

        /* 量表说明卡片 */
        .test-intro {
            background-color: var(--bg-white);
            padding: 25px;
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-sm);
            margin-bottom: 40px;
            border-left: 4px solid var(--primary-color);
        }

        .test-intro h2 {
            font-size: 18px;
            color: var(--primary-dark);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .test-intro p {
            font-size: 14px;
            color: var(--text-gray);
            line-height: 1.7;
            margin-bottom: 8px;
        }

        /* 维度标题 */
        .dimension-title {
            font-size: 20px;
            color: var(--primary-dark);
            margin: 30px 0 20px;
            padding-left: 10px;
            border-left: 3px solid var(--primary-color);
        }

        /* 题目容器 */
        .questions-container {
            margin-bottom: 40px;
        }

        .question-card {
            background-color: var(--bg-white);
            padding: 25px;
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-sm);
            margin-bottom: 20px;
            transition: var(--transition);
        }

        .question-card:hover {
            box-shadow: 0 4px 12px rgba(212, 175, 55, 0.2);
        }

        .question-number {
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 16px;
        }

        .question-text {
            font-size: 16px;
            margin-bottom: 20px;
            color: var(--text-dark);
        }

        /* 选项样式 */
        .options {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }

        .option-item {
            flex: 1;
            min-width: 180px;
        }

        .option-item input {
            display: none;
        }

        .option-item label {
            display: block;
            padding: 10px 15px;
            border: 1px solid var(--border-gray);
            border-radius: var(--radius-md);
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            font-size: 14px;
        }

        .option-item input:checked + label {
            background-color: var(--primary-light);
            border-color: var(--primary-color);
            color: var(--primary-dark);
            font-weight: 500;
        }

        .option-item label:hover {
            border-color: var(--primary-color);
        }

        /* 提交区域 */
        .submit-area {
            text-align: center;
            padding: 20px 0 60px;
        }

        .progress-text {
            font-size: 14px;
            color: var(--text-gray);
            margin-bottom: 20px;
        }

        .submit-btn {
            padding: 12px 40px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--radius-md);
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow-sm);
        }

        .submit-btn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            box-shadow: none;
        }

        .submit-btn:not(:disabled):hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
        }

        /* 页脚 */
        footer {
            background-color: var(--text-dark);
            color: var(--primary-light);
            padding: 30px 0 20px;
            text-align: center;
            border-top: 3px solid var(--primary-color);
            font-size: 12px;
        }

        /* 响应式适配 */
        @media (max-width: 768px) {
            .nav-links ul {
                display: none;
            }

            .mobile-menu {
                display: block;
            }

            .test-header h1 {
                font-size: 26px;
            }

            .options {
                flex-direction: column;
                gap: 10px;
            }

            .question-card {
                padding: 20px;
            }
        }

        @media (max-width: 480px) {
            .header-content {
                height: 60px;
            }

            .logo {
                font-size: 20px;
            }

            .test-header {
                padding: 30px 0;
            }

            .test-intro {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <header>
        <div class="header-content">
            <div class="logo">
                <i class="fas fa-star" aria-label="金织网logo"></i>
                金织网
            </div>
            <nav class="nav-links">
                <ul>
                    <li><a href="index.html">首页</a></li>
                    <li><a href="index.html#scales">量表测试</a></li>
                    <li><a href="about.html">关于我们</a></li>
                    <li><a href="help.html">帮助中心</a></li>
                </ul>
            </nav>
            <button class="mobile-menu" aria-label="打开移动端导航菜单">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <!-- 测试页头部 -->
    <div class="test-header">
        <div class="container">
            <h1>匹兹堡睡眠质量指数 (PSQI) 测试</h1>
            <p>本量表评估你近1个月的睡眠质量，共19个自评条目，预计耗时8-10分钟，请根据实际情况作答</p>
        </div>
    </div>

    <div class="container">
        <!-- 量表说明 -->
        <div class="test-intro">
            <h2><i class="fas fa-info-circle" style="color: var(--primary-color);"></i> 作答须知</h2>
            <p>1. 请回忆近1个月的睡眠情况，如实选择符合你的选项，无需刻意美化或夸大；</p>
            <p>2. 量表包含7个维度：睡眠质量、入睡时间、睡眠时间、睡眠效率、睡眠障碍、催眠药物、日间功能障碍；</p>
            <p>3. 所有条目均为必答题，答完后自动计算总分，提交后生成结果；</p>
            <p>4. 测试结果仅作睡眠健康参考，不构成医学诊断，若长期失眠请及时就医。</p>
        </div>

        <!-- 题目容器 -->
        <form id="psqiTestForm" class="questions-container">
            <!-- 维度1：睡眠质量 -->
            <h3 class="dimension-title">一、睡眠质量</h3>
            <div class="question-card">
                <div class="question-number">题目 1/19</div>
                <div class="question-text">近1个月，你的睡眠质量如何？</div>
                <div class="options">
                    <div class="option-item">
                        <input type="radio" name="q1" id="q1-0" value="0">
                        <label for="q1-0">0. 很好</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q1" id="q1-1" value="1">
                        <label for="q1-1">1. 较好</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q1" id="q1-2" value="2">
                        <label for="q1-2">2. 较差</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q1" id="q1-3" value="3">
                        <label for="q1-3">3. 很差</label>
                    </div>
                </div>
            </div>

            <!-- 维度2：入睡时间 -->
            <h3 class="dimension-title">二、入睡时间</h3>
            <div class="question-card">
                <div class="question-number">题目 2/19</div>
                <div class="question-text">近1个月，你上床后通常多久能入睡？</div>
                <div class="options">
                    <div class="option-item">
                        <input type="radio" name="q2" id="q2-0" value="0">
                        <label for="q2-0">0. ≤ 15 分钟</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q2" id="q2-1" value="1">
                        <label for="q2-1">1. 16-30 分钟</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q2" id="q2-2" value="2">
                        <label for="q2-2">2. 31-60 分钟</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q2" id="q2-3" value="3">
                        <label for="q2-3">3. ＞ 60 分钟</label>
                    </div>
                </div>
            </div>

            <div class="question-card">
                <div class="question-number">题目 3/19</div>
                <div class="question-text">近1个月，你入睡困难的情况发生频率？</div>
                <div class="options">
                    <div class="option-item">
                        <input type="radio" name="q3" id="q3-0" value="0">
                        <label for="q3-0">0. 无（0次）</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q3" id="q3-1" value="1">
                        <label for="q3-1">1. 很少（1-2次/月）</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q3" id="q3-2" value="2">
                        <label for="q3-2">2. 有时（1-2次/周）</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q3" id="q3-3" value="3">
                        <label for="q3-3">3. 经常（≥3次/周）</label>
                    </div>
                </div>
            </div>

            <!-- 维度3：睡眠时间 -->
            <h3 class="dimension-title">三、睡眠时间</h3>
            <div class="question-card">
                <div class="question-number">题目 4/19</div>
                <div class="question-text">近1个月，你每晚实际睡眠时间大约是多久？</div>
                <div class="options">
                    <div class="option-item">
                        <input type="radio" name="q4" id="q4-0" value="0">
                        <label for="q4-0">0. ≥ 7 小时</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q4" id="q4-1" value="1">
                        <label for="q4-1">1. 6-7 小时</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q4" id="q4-2" value="2">
                        <label for="q4-2">2. 5-6 小时</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q4" id="q4-3" value="3">
                        <label for="q4-3">3. ＜ 5 小时</label>
                    </div>
                </div>
            </div>

            <!-- 维度4：睡眠效率 -->
            <h3 class="dimension-title">四、睡眠效率</h3>
            <div class="question-card">
                <div class="question-number">题目 5/19</div>
                <div class="question-text">近1个月，你通常几点上床睡觉？（请选择最接近的选项）</div>
                <div class="options">
                    <div class="option-item">
                        <input type="radio" name="q5" id="q5-1" value="21:00">
                        <label for="q5-1">21:00 之前</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q5" id="q5-2" value="22:00">
                        <label for="q5-2">21:01-22:00</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q5" id="q5-3" value="23:00">
                        <label for="q5-3">22:01-23:00</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q5" id="q5-4" value="00:00">
                        <label for="q5-4">23:01-00:00</label>
                    </div>
                     <div class="option-item">
                        <input type="radio" name="q5" id="q5-5" value="01:00">
                        <label for="q5-5">00:01-01:00</label>
                    </div>
                     <div class="option-item">
                        <input type="radio" name="q5" id="q5-6" value="02:00">
                        <label for="q5-6">01:01 之后</label>
                    </div>
                </div>
            </div>

            <div class="question-card">
                <div class="question-number">题目 6/19</div>
                <div class="question-text">近1个月，你通常几点起床？（请选择最接近的选项）</div>
                <div class="options">
                    <div class="option-item">
                        <input type="radio" name="q6" id="q6-1" value="05:00">
                        <label for="q6-1">05:00 之前</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q6" id="q6-2" value="06:00">
                        <label for="q6-2">05:01-06:00</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q6" id="q6-3" value="07:00">
                        <label for="q6-3">06:01-07:00</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q6" id="q6-4" value="08:00">
                        <label for="q6-4">07:01-08:00</label>
                    </div>
                     <div class="option-item">
                        <input type="radio" name="q6" id="q6-5" value="09:00">
                        <label for="q6-5">08:01-09:00</label>
                    </div>
                     <div class="option-item">
                        <input type="radio" name="q6" id="q6-6" value="10:00">
                        <label for="q6-6">09:01 之后</label>
                    </div>
                </div>
            </div>

            <!-- 维度5：睡眠障碍 -->
            <h3 class="dimension-title">五、睡眠障碍</h3>
            <div class="question-card">
                <div class="question-number">题目 7/19</div>
                <div class="question-text">近1个月，你是否因“夜间易醒或早醒”影响睡眠？</div>
                <div class="options">
                    <div class="option-item">
                        <input type="radio" name="q7" id="q7-0" value="0">
                        <label for="q7-0">0. 无</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q7" id="q7-1" value="1">
                        <label for="q7-1">1. 很少</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q7" id="q7-2" value="2">
                        <label for="q7-2">2. 有时</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q7" id="q7-3" value="3">
                        <label for="q7-3">3. 经常</label>
                    </div>
                </div>
            </div>

            <div class="question-card">
                <div class="question-number">题目 8/19</div>
                <div class="question-text">近1个月，你是否因“夜间去厕所”影响睡眠？</div>
                <div class="options">
                    <div class="option-item">
                        <input type="radio" name="q8" id="q8-0" value="0">
                        <label for="q8-0">0. 无</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q8" id="q8-1" value="1">
                        <label for="q8-1">1. 很少</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q8" id="q8-2" value="2">
                        <label for="q8-2">2. 有时</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q8" id="q8-3" value="3">
                        <label for="q8-3">3. 经常</label>
                    </div>
                </div>
            </div>

            <div class="question-card">
                <div class="question-number">题目 9/19</div>
                <div class="question-text">近1个月，你是否因“呼吸不畅”影响睡眠？</div>
                <div class="options">
                    <div class="option-item">
                        <input type="radio" name="q9" id="q9-0" value="0">
                        <label for="q9-0">0. 无</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q9" id="q9-1" value="1">
                        <label for="q9-1">1. 很少</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q9" id="q9-2" value="2">
                        <label for="q9-2">2. 有时</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q9" id="q9-3" value="3">
                        <label for="q9-3">3. 经常</label>
                    </div>
                </div>
            </div>

            <div class="question-card">
                <div class="question-number">题目 10/19</div>
                <div class="question-text">近1个月，你是否因“咳嗽或鼾声高”影响睡眠？</div>
                <div class="options">
                    <div class="option-item">
                        <input type="radio" name="q10" id="q10-0" value="0">
                        <label for="q10-0">0. 无</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q10" id="q10-1" value="1">
                        <label for="q10-1">1. 很少</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q10" id="q10-2" value="2">
                        <label for="q10-2">2. 有时</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q10" id="q10-3" value="3">
                        <label for="q10-3">3. 经常</label>
                    </div>
                </div>
            </div>

            <div class="question-card">
                <div class="question-number">题目 11/19</div>
                <div class="question-text">近1个月，你是否因“感觉冷”影响睡眠？</div>
                <div class="options">
                    <div class="option-item">
                        <input type="radio" name="q11" id="q11-0" value="0">
                        <label for="q11-0">0. 无</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q11" id="q11-1" value="1">
                        <label for="q11-1">1. 很少</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q11" id="q11-2" value="2">
                        <label for="q11-2">2. 有时</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q11" id="q11-3" value="3">
                        <label for="q11-3">3. 经常</label>
                    </div>
                </div>
            </div>

            <div class="question-card">
                <div class="question-number">题目 12/19</div>
                <div class="question-text">近1个月，你是否因“感觉热”影响睡眠？</div>
                <div class="options">
                    <div class="option-item">
                        <input type="radio" name="q12" id="q12-0" value="0">
                        <label for="q12-0">0. 无</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q12" id="q12-1" value="1">
                        <label for="q12-1">1. 很少</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q12" id="q12-2" value="2">
                        <label for="q12-2">2. 有时</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q12" id="q12-3" value="3">
                        <label for="q12-3">3. 经常</label>
                    </div>
                </div>
            </div>

            <div class="question-card">
                <div class="question-number">题目 13/19</div>
                <div class="question-text">近1个月，你是否因“做噩梦”影响睡眠？</div>
                <div class="options">
                    <div class="option-item">
                        <input type="radio" name="q13" id="q13-0" value="0">
                        <label for="q13-0">0. 无</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q13" id="q13-1" value="1">
                        <label for="q13-1">1. 很少</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q13" id="q13-2" value="2">
                        <label for="q13-2">2. 有时</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q13" id="q13-3" value="3">
                        <label for="q13-3">3. 经常</label>
                    </div>
                </div>
            </div>

            <div class="question-card">
                <div class="question-number">题目 14/19</div>
                <div class="question-text">近1个月，你是否因“疼痛不适”影响睡眠？</div>
                <div class="options">
                    <div class="option-item">
                        <input type="radio" name="q14" id="q14-0" value="0">
                        <label for="q14-0">0. 无</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q14" id="q14-1" value="1">
                        <label for="q14-1">1. 很少</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q14" id="q14-2" value="2">
                        <label for="q14-2">2. 有时</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q14" id="q14-3" value="3">
                        <label for="q14-3">3. 经常</label>
                    </div>
                </div>
            </div>

            <div class="question-card">
                <div class="question-number">题目 15/19</div>
                <div class="question-text">近1个月，你是否因“其他原因”影响睡眠？</div>
                <div class="options">
                    <div class="option-item">
                        <input type="radio" name="q15" id="q15-0" value="0">
                        <label for="q15-0">0. 无</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q15" id="q15-1" value="1">
                        <label for="q15-1">1. 很少</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q15" id="q15-2" value="2">
                        <label for="q15-2">2. 有时</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q15" id="q15-3" value="3">
                        <label for="q15-3">3. 经常</label>
                    </div>
                </div>
            </div>

            <!-- 维度6：催眠药物 -->
            <h3 class="dimension-title">六、催眠药物</h3>
            <div class="question-card">
                <div class="question-number">题目 16/19</div>
                <div class="question-text">近1个月，你是否服用催眠药物帮助睡眠？</div>
                <div class="options">
                    <div class="option-item">
                        <input type="radio" name="q16" id="q16-0" value="0">
                        <label for="q16-0">0. 无（0次）</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q16" id="q16-1" value="1">
                        <label for="q16-1">1. 很少（1-2次/月）</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q16" id="q16-2" value="2">
                        <label for="q16-2">2. 有时（1-2次/周）</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q16" id="q16-3" value="3">
                        <label for="q16-3">3. 经常（≥3次/周）</label>
                    </div>
                </div>
            </div>

            <!-- 维度7：日间功能障碍 -->
            <h3 class="dimension-title">七、日间功能障碍</h3>
            <div class="question-card">
                <div class="question-number">题目 17/19</div>
                <div class="question-text">近1个月，你是否感到困倦？</div>
                <div class="options">
                    <div class="option-item">
                        <input type="radio" name="q17" id="q17-0" value="0">
                        <label for="q17-0">0. 无</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q17" id="q17-1" value="1">
                        <label for="q17-1">1. 很少</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q17" id="q17-2" value="2">
                        <label for="q17-2">2. 有时</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q17" id="q17-3" value="3">
                        <label for="q17-3">3. 经常</label>
                    </div>
                </div>
            </div>

            <div class="question-card">
                <div class="question-number">题目 18/19</div>
                <div class="question-text">近1个月，你是否感到精力不足？</div>
                <div class="options">
                    <div class="option-item">
                        <input type="radio" name="q18" id="q18-0" value="0">
                        <label for="q18-0">0. 无</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q18" id="q18-1" value="1">
                        <label for="q18-1">1. 很少</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q18" id="q18-2" value="2">
                        <label for="q18-2">2. 有时</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q18" id="q18-3" value="3">
                        <label for="q18-3">3. 经常</label>
                    </div>
                </div>
            </div>

            <div class="question-card">
                <div class="question-number">题目 19/19</div>
                <div class="question-text">近1个月，睡眠问题是否影响你的日间活动（如工作、学习）？</div>
                <div class="options">
                    <div class="option-item">
                        <input type="radio" name="q19" id="q19-0" value="0">
                        <label for="q19-0">0. 无</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q19" id="q19-1" value="1">
                        <label for="q19-1">1. 很少</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q19" id="q19-2" value="2">
                        <label for="q19-2">2. 有时</label>
                    </div>
                    <div class="option-item">
                        <input type="radio" name="q19" id="q19-3" value="3">
                        <label for="q19-3">3. 经常</label>
                    </div>
                </div>
            </div>

            <!-- 提交区域 -->
            <div class="submit-area">
                <div class="progress-text" id="progressText">已完成 0/19 题</div>
                <button type="submit" class="submit-btn" id="submitBtn" disabled>提交测试</button>
            </div>
        </form>
    </div>

    <!-- 页脚 -->
    <footer>
        <div class="container">
            <p>© <script>document.write(new Date().getFullYear())</script> 金织网 公益心理平台 | 测试结果仅作参考，不构成专业医疗诊断</p>
        </div>
    </footer>

    <script>
        // 1. 移动端菜单交互
        const mobileMenu = document.querySelector('.mobile-menu');
        const navUl = document.querySelector('.nav-links ul');
        mobileMenu.addEventListener('click', () => {
            navUl.style.display = navUl.style.display === 'flex' ? 'none' : 'flex';
            if (navUl.style.display === 'flex') {
                navUl.style.flexDirection = 'column';
                navUl.style.position = 'absolute';
                navUl.style.top = '70px';
                navUl.style.left = '0';
                navUl.style.right = '0';
                navUl.style.background = 'white';
                navUl.style.padding = '20px';
                navUl.style.boxShadow = '0 4px 8px rgba(0,0,0,0.1)';
                mobileMenu.innerHTML = '<i class="fas fa-times"></i>';
            } else {
                mobileMenu.innerHTML = '<i class="fas fa-bars"></i>';
            }
        });

        // 2. 测试题进度监控与提交逻辑
        const form = document.getElementById('psqiTestForm');
        const submitBtn = document.getElementById('submitBtn');
        const progressText = document.getElementById('progressText');
        // 所有自评题目（q1-q19）
        const allQuestions = ['q1','q2','q3','q4','q5','q6','q7','q8','q9','q10','q11','q12','q13','q14','q15','q16','q17','q18','q19'];
        
        // 监控选项变化，更新进度
        form.addEventListener('change', () => {
            let completed = 0;
            allQuestions.forEach(q => {
                const selected = document.querySelector(`input[name="${q}"]:checked`);
                if (selected) completed++;
            });
            progressText.textContent = `已完成 ${completed}/19 题`;
            submitBtn.disabled = completed < 19;
        });

        // 计算睡眠效率的辅助函数
        function calculateSleepEfficiency(bedTime, wakeTime, sleepHour) {
            // 简化计算：将时间转为小时数
            const bedHour = parseInt(bedTime.split(':')[0]);
            const wakeHour = parseInt(wakeTime.split(':')[0]);
            // 总卧床时间（小时）
            let bedDuration = wakeHour > bedHour ? wakeHour - bedHour : (24 - bedHour) + wakeHour;
            // 睡眠效率 = 实际睡眠时间 / 卧床时间 * 100%
            let efficiency = (sleepHour / bedDuration) * 100;
            // 按PSQI标准计分
            if (efficiency >= 85) return 0;
            else if (efficiency >= 75) return 1;
            else if (efficiency >= 65) return 2;
            else return 3;
        }

        // 表单提交逻辑：计算总分并跳转到结果页
        form.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // 收集所有题目的答案
            const answers = {};
            allQuestions.forEach(q => {
                const selected = document.querySelector(`input[name="${q}"]:checked`);
                answers[q] = selected.value;
            });

            // 计算7个维度的得分
            let dimensionScores = {
                // 维度1：睡眠质量 (q1)
                d1: parseInt(answers.q1),
                // 维度2：入睡时间 (q2 + q3 取最高分)
                d2: Math.max(parseInt(answers.q2), parseInt(answers.q3)),
                // 维度3：睡眠时间 (q4)
                d3: parseInt(answers.q4),
                // 维度4：睡眠效率 (q5 q6 q4 计算)
                d4: calculateSleepEfficiency(answers.q5, answers.q6, 7 - parseInt(answers.q4)),
                // 维度5：睡眠障碍 (q7-q15 取最高分)
                d5: Math.max(parseInt(answers.q7),parseInt(answers.q8),parseInt(answers.q9),parseInt(answers.q10),parseInt(answers.q11),parseInt(answers.q12),parseInt(answers.q13),parseInt(answers.q14),parseInt(answers.q15)),
                // 维度6：催眠药物 (q16)
                d6: parseInt(answers.q16),
                // 维度7：日间功能障碍 (q17 + q18 + q19 取最高分)
                d7: Math.max(parseInt(answers.q17), parseInt(answers.q18), parseInt(answers.q19))
            };

            // 计算PSQI总分 (0-21分)
            let totalScore = 0;
            for (let key in dimensionScores) {
                totalScore += dimensionScores[key];
            }

            // 跳转到结果页，传递总分
            window.location.href = `psqi-result.html?score=${totalScore}`;
        });
    </script>
</body>
</html>
